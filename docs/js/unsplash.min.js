"use strict";function showMore(){document.querySelector(".popover").classList.toggle("is-visible")}function hideMore(){document.querySelector(".popover").classList.remove("is-visible")}function likeThePhoto(e){e.preventDefault(),likePhoto.href="https://unsplash.com/photos/"+photoId+"/like",this.classList.toggle("liked")}function logMeIn(){fetch("https://unsplash.com/oauth/token",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Origin:""+redirectURI,Host:"api.unsplash.com"},body:JSON.stringify({client_id:""+authToken,client_secret:""+applicationSecret,redirect_uri:""+redirectURI,code:""+code,grant_type:"authorization_code"})}).then(function(e){console.log(e.json())}),Response.ok&&fetch("https://api.unsplash.com/me").then(function(e){return e.json()}).then(function(e){console.log(e)})}var authToken="551c50eda7975cf9ef9aaa4e043667f7566231fb7f09992b748630f2bfd81e8b",applicationSecret="b018b677f919ab742857d23bb26a345fd46d2b807dd9012d04bd5513af2392e6",url="https://api.unsplash.com/photos/random?&featured&client_id="+authToken,main=document.querySelector("main"),download=document.querySelector("#download"),moreButton=document.querySelector("#more"),profile=document.querySelector("#profile"),userName=document.querySelector("#name"),likePhoto=document.querySelector("#like"),photoLocation=document.querySelector("#location"),viewOnUnsplash=document.querySelector("#view"),login=document.querySelector("#login"),redirectURI="http://mcansh.local:5757",photoId=void 0,code=void 0;fetch(url).then(function(e){return e.json()}).then(function(e){main.style.backgroundColor=e.color,main.style.backgroundImage="url("+e.urls.full+")",photoId=e.id,viewOnUnsplash.href=e.links.html,profile.style.backgroundImage="url("+e.user.profile_image.large+")",download.href=e.links.download,userName.href=e.user.links.html,userName.textContent=e.user.name,document.querySelector("#like span").textContent=e.likes,null!==e.location?(photoLocation.textContent=e.user.location,photoLocation.href="https://unsplash.com/search/"+e.user.location):photoLocation.remove()}),moreButton.addEventListener("click",showMore),main.addEventListener("click",hideMore),likePhoto.addEventListener("click",likeThePhoto),login.href="https://unsplash.com/oauth/authorize?client_id="+authToken+"&redirect_uri="+redirectURI+"&response_type=code&scope=public+read_user+write_likes",document.location.search.length&&!function(){var e=window.location.search,o=decodeURIComponent(e),t=/^code=/,n=o.split("?");if(n.length){var c=n[1].split("&");c.forEach(function(e){e.match(t)&&(code=e.replace(t,""),code=code.replace("/",""))})}code?(console.log("CODE: "+code),window.code=code):console.error("you're not logged in!")}();